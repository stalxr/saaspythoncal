def run():
    print("\n=== Текстовый квест: Подземелье ===")
    print("Вы просыпаетесь в тёмном подземелье. Перед вами две двери.")
    
    выбор1 = input("Какую дверь откроете? (левая/правая): ").strip().lower()
    
    if выбор1 == "левая":
        print("\nВы входите в комнату с сундуком и тенью в углу.")
        выбор2 = input("Что сделаете? (открыть сундук/атаковать тень/убежать): ").strip().lower()
        
        if выбор2 == "открыть сундук":
            print("\nВ сундуке золото! Но тень оказалась демоном!")
            выбор3 = input("Сражаться или бежать? (сражаться/бежать): ").strip().lower()
            
            if выбор3 == "сражаться":
                print("\nВы героически сражаетесь и побеждаете демона! Золото ваше!")
                print("ПОБЕДА!")
            else:
                print("\nВы убегаете с частью золота. Живы, но не богаты.")
                print("ЧАСТИЧНАЯ ПОБЕДА")
                
        elif выбор2 == "атаковать тень":
            print("\nТень оказалась дружелюбным призраком! Он показывает вам выход.")
            print("ПОБЕДА!")
        else:
            print("\nВы убегаете обратно к входу. Приключение окончено.")
            print("ПОБЕГ")
            
    elif выбор1 == "правая":
        print("\nВы попадаете в библиотеку с древними книгами.")
        выбор2 = input("Что сделаете? (читать книгу/искать выход/взять книгу): ").strip().lower()
        
        if выбор2 == "читать книгу":
            print("\nКнига содержит заклинание телепортации! Вы свободны!")
            print("ПОБЕДА!")
        elif выбор2 == "искать выход":
            print("\nВы находите скрытую дверь и выходите на свободу!")
            print("ПОБЕДА!")
        else:
            print("\nКнига оказалась проклятой! Вы застряли в подземелье навечно...")
            print("ПОРАЖЕНИЕ")
    else:
        print("\nВы стоите в нерешительности слишком долго. Потолок обрушивается...")
        print("ПОРАЖЕНИЕ")

